<div class="rounded-[24px] border border-[#2E3440] bg-[#1F2937] p-6 shadow-xl">
  <div class="mb-6 flex items-center justify-between">
    <div>
      <h2 class="text-lg uppercase tracking-tight text-slate-400">Configure Mission</h2>
      <p class="mt-2 text-sm text-slate-400">Tune parameters and watch the map preview respond.</p>
    </div>
    <button
      type="button"
      class="rounded-full border border-slate-700 px-3 py-1 text-xs font-semibold text-slate-300 transition hover:border-slate-500 hover:text-slate-100"
      data-action="vrp#resetConfig"
    >Reset</button>
  </div>

  <form id="vrp-launch-form" data-vrp-target="configForm" data-controller="job-submission" data-action="submit->vrp#solve" class="space-y-6">
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      <label class="group relative flex flex-col gap-2 text-sm">
        <span class="text-slate-400">Number of vehicles</span>
        <input type="number" min="1" max="50" step="1" data-vrp-target="vehicleCount" class="rounded-2xl border border-[#2E3440] bg-slate-900 px-4 py-2 text-slate-100 focus:border-[#00B8D9] focus:outline-none" />
        <span class="absolute left-0 top-full mt-1 hidden rounded-md bg-slate-700 px-2 py-1 text-xs text-slate-200 opacity-0 transition-opacity group-hover:block group-hover:opacity-100">How many vehicles youâ€™re dispatching on this mission.</span>
      </label>

      <label class="group relative flex flex-col gap-2 text-sm">
        <span class="text-slate-400">Vehicle capacity</span>
        <input type="number" min="1" step="1" data-vrp-target="vehicleCapacity" class="rounded-2xl border border-[#2E3440] bg-slate-900 px-4 py-2 text-slate-100 focus:border-[#00B8D9] focus:outline-none" />
        <span class="absolute left-0 top-full mt-1 hidden rounded-md bg-slate-700 px-2 py-1 text-xs text-slate-200 opacity-0 transition-opacity group-hover:block group-hover:opacity-100">Maximum load each vehicle can carry.</span>
      </label>

      <label class="group relative flex flex-col gap-2 text-sm">
        <span class="text-slate-400">Max route distance (km)</span>
        <input type="number" min="10" step="5" data-vrp-target="maxDistance" class="rounded-2xl border border-[#2E3440] bg-slate-900 px-4 py-2 text-slate-100 focus:border-[#00B8D9] focus:outline-none" />
        <span class="absolute left-0 top-full mt-1 hidden rounded-md bg-slate-700 px-2 py-1 text-xs text-slate-200 opacity-0 transition-opacity group-hover:block group-hover:opacity-100">Limits total distance a vehicle can travel this run.</span>
      </label>

      <label class="group relative flex flex-col gap-2 text-sm">
        <span class="text-slate-400">Solver strategy</span>
        <select data-vrp-target="solverType" class="rounded-2xl border border-[#2E3440] bg-slate-900 px-4 py-2 text-slate-100 focus:border-[#6366F1] focus:outline-none">
          <option value="tabu">Tabu Search</option>
          <option value="sim_anneal">Simulated Annealing</option>
          <option value="quantum">Quantum Hybrid</option>
          <option value="greedy">Greedy Heuristic</option>
        </select>
        <span class="absolute left-0 top-full mt-1 hidden rounded-md bg-slate-700 px-2 py-1 text-xs text-slate-200 opacity-0 transition-opacity group-hover:block group-hover:opacity-100">Choose the optimization engine best suited to your scenario.</span>
      </label>
    </div>

    <label class="group relative flex flex-col gap-2 text-sm">
      <span class="text-slate-400">Locations</span>
      <textarea
        data-vrp-target="locationsInput"
        class="h-32 rounded-2xl border border-[#2E3440] bg-slate-900 px-4 py-3 text-slate-100 focus:border-[#6366F1] focus:outline-none"
        placeholder="lat,lng per line. Depot first, followed by stops."
      ></textarea>
      <span class="absolute left-0 top-full mt-1 hidden rounded-md bg-slate-700 px-2 py-1 text-xs text-slate-200 opacity-0 transition-opacity group-hover:block group-hover:opacity-100">Paste coordinates or import from CSV (coming soon).</span>
    </label>

    <div class="flex items-center justify-between text-xs text-slate-500">
      <p>Changes apply when you launch a new mission. Hover any label to learn more.</p>
      <label class="inline-flex items-center gap-2 text-slate-300">
        <input type="checkbox" data-vrp-target="autoReplay" class="h-4 w-4 rounded border-[#2E3440] bg-slate-900 text-[#00B8D9] focus:ring-[#00B8D9]" />
        Auto replay last run
      </label>
    </div>

    <div class="flex items-center gap-3">
      <button
        type="submit"
        class="inline-flex flex-1 items-center justify-center gap-2 rounded-2xl bg-[#00B8D9] px-4 py-3 text-sm font-semibold text-slate-950 shadow-lg transition hover:bg-[#19d3f3] disabled:cursor-not-allowed disabled:bg-slate-700 disabled:text-slate-500"
        data-vrp-target="launchButton"
        data-turbo-submits-with="Launching..."
      >
        <span class="hidden" data-vrp-target="launchSpinner">
          <svg class="h-4 w-4 animate-spin" viewBox="0 0 24 24" fill="none">
            <circle class="opacity-20" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-90" d="M22 12a10 10 0 0 1-10 10" stroke="currentColor" stroke-linecap="round" stroke-width="4"></path>
          </svg>
        </span>
        <span data-vrp-target="launchLabel">Launch Mission</span>
      </button>

      <button
        type="button"
        class="inline-flex items-center justify-center rounded-2xl border border-[#2E3440] px-4 py-3 text-sm font-semibold text-slate-300 transition hover:border-slate-500 hover:text-slate-100"
        data-action="vrp#pauseReplay"
        data-vrp-target="pauseButton"
        disabled
      >Pause</button>
    </div>
  </form>
</div>
